(this["webpackJsonphtm2.0"]=this["webpackJsonphtm2.0"]||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(11),i=a.n(s),o=(a(73),a(74),a(35)),r=a.n(o),c=a(39),l=a(19),h=a(15),u=a(9),d=a(25),b=a(24),m=a(136),j=a(135),p=a(23),g=a.n(p),O=a(10),v=a(22),k=a(3),x=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleUsername=n.handleUsername.bind(Object(u.a)(n)),n.handlePassword=n.handlePassword.bind(Object(u.a)(n)),n.state={username:"",password:""},n}return Object(h.a)(a,[{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.login()}},{key:"login",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://todoapi86.azurewebsites.net/api/auth-token/",t={username:this.state.username,password:this.state.password},e.next=4,g.a.post("https://todoapi86.azurewebsites.net/api/auth-token/",t).then((function(e){var t=e.data.token;console.log(t),localStorage.setItem("token",t)})).catch((function(){console.log("Something went wrong while logging in!!")}));case 4:this.forceUpdate();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return localStorage.getItem("token")?Object(k.jsx)(O.a,{to:"/home-page"}):Object(k.jsxs)("form",{className:"Login",onSubmit:this.handleSubmit,children:[Object(k.jsx)("h1",{className:"Login-title",children:"Whatodo"}),Object(k.jsx)(m.a,{className:"Login-input",required:!0,value:this.state.username,type:"text",label:"Username",variant:"outlined",onChange:this.handleUsername}),Object(k.jsx)(m.a,{className:"Login-input",required:!0,value:this.state.password,type:"password",label:"Password",variant:"outlined",onChange:this.handlePassword}),Object(k.jsxs)("div",{className:"Login-btns",children:[Object(k.jsx)(v.b,{to:"/signup",children:Object(k.jsx)(j.a,{color:"primary",children:"Register Here"})}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",type:"submit",children:"Login"})]})]})}}]),a}(n.Component),f=a(137),w=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleCheckbox=n.handleCheckbox.bind(Object(u.a)(n)),n.state={isCompleted:n.props.task.is_completed},n}return Object(h.a)(a,[{key:"handleCheckbox",value:function(){var e=this,t="https://todoapi86.azurewebsites.net/api/tasks/".concat(this.props.task.id,"/"),a=localStorage.getItem("token");g()({method:"put",url:t,headers:{Authorization:"Token ".concat(a)},data:{is_completed:!this.state.isCompleted}}).then((function(t){e.setState({isCompleted:t.data.is_completed})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.task;return Object(k.jsxs)("div",{className:"Todo",children:[Object(k.jsx)(f.a,{checked:this.state.isCompleted,color:"primary",onChange:this.handleCheckbox}),Object(k.jsx)("label",{children:e.name})]})}}]),a}(n.Component),y=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleLogout=n.handleLogout.bind(Object(u.a)(n)),n.getTasks=n.getTasks.bind(Object(u.a)(n)),n.state={tasks:[]},n}return Object(h.a)(a,[{key:"getTasks",value:function(){var e=this,t=localStorage.getItem("token");g()({method:"get",url:"https://todoapi86.azurewebsites.net/api/tasks/",headers:{Authorization:"Token ".concat(t)}}).then((function(t){e.setState({tasks:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getTasks()}},{key:"handleLogout",value:function(){localStorage.removeItem("token"),this.forceUpdate()}},{key:"render",value:function(){return localStorage.getItem("token")?Object(k.jsxs)("div",{className:"Home",children:[Object(k.jsxs)("nav",{className:"Home-nav",children:[Object(k.jsx)("h1",{className:"Home-nav-title",children:"Whatodo"}),Object(k.jsx)(v.b,{to:"/create-task",children:Object(k.jsx)(j.a,{variant:"contained",color:"primary",children:"Create Task"})}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",onClick:this.handleLogout,children:"Log Out"})]}),Object(k.jsx)("h1",{className:"Home-title",children:"Todo List"}),Object(k.jsx)("div",{className:"Home-tasks",children:this.state.tasks.map((function(e){return Object(k.jsx)(w,{task:e},e.id)}))})]}):Object(k.jsx)(O.a,{to:"/"})}}]),a}(n.Component),S=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleUsername=n.handleUsername.bind(Object(u.a)(n)),n.handlePassword=n.handlePassword.bind(Object(u.a)(n)),n.handleEmail=n.handleEmail.bind(Object(u.a)(n)),n.state={username:"",email:"",password:"",redirect:null},n}return Object(h.a)(a,[{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.register(),this.setState({redirect:"/"})}},{key:"register",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://todoapi86.azurewebsites.net/api/user-register/",t={username:this.state.username,email:this.state.email,password:this.state.password},e.next=4,g.a.post("https://todoapi86.azurewebsites.net/api/user-register/",t).then((function(e){var t=e.data.token;console.log(t),localStorage.setItem("token",t)})).catch((function(){console.log("Something went wrong while logging in!!")}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirect?Object(k.jsx)(O.a,{to:this.state.redirect}):Object(k.jsxs)("form",{className:"Login",onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(k.jsx)("h1",{className:"Login-title",children:"Whatodo"}),Object(k.jsx)(m.a,{className:"Login-input",required:!0,value:this.state.username,type:"text",label:"Username",variant:"outlined",onChange:this.handleUsername}),Object(k.jsx)(m.a,{className:"Login-input",required:!0,value:this.state.email,type:"email",label:"Email",variant:"outlined",onChange:this.handleEmail}),Object(k.jsx)(m.a,{className:"Login-input",required:!0,value:this.state.password,type:"password",label:"Password",variant:"outlined",onChange:this.handlePassword}),Object(k.jsxs)("div",{className:"Login-btns",children:[Object(k.jsx)(v.b,{to:"/",children:Object(k.jsx)(j.a,{color:"primary",children:"Login Here"})}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",type:"submit",children:"Sign Up"})]})]})}}]),a}(n.Component),C=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={task:""},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleTask=n.handleTask.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"handleTask",value:function(e){this.setState({task:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=localStorage.getItem("token");g()({method:"post",url:"https://todoapi86.azurewebsites.net/api/tasks/",headers:{Authorization:"Token ".concat(a)},data:{name:this.state.task}}).then((function(){console.log('"'.concat(t.state.task,'" Task Created')),t.setState({task:""})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return localStorage.getItem("token")?Object(k.jsxs)("form",{className:"Login",onSubmit:this.handleSubmit,children:[Object(k.jsx)("h1",{className:"Login-title",children:"Whatodo"}),Object(k.jsx)(m.a,{className:"Login-input",required:!0,value:this.state.task,type:"text",label:"Title",variant:"outlined",onChange:this.handleTask}),Object(k.jsxs)("div",{className:"Login-btns",children:[Object(k.jsx)(v.b,{to:"/home-page",children:Object(k.jsx)(j.a,{color:"primary",children:"Back to home"})}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",type:"submit",children:"Create task"})]})]}):Object(k.jsx)(O.a,{to:"/"})}}]),a}(n.Component);var L=function(){return Object(k.jsx)(v.a,{children:Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(O.d,{children:[Object(k.jsx)(O.b,{path:"/login",exact:!0,component:x}),Object(k.jsx)(O.b,{path:"/home-page",exact:!0,component:y}),Object(k.jsx)(O.b,{path:"/signup",exact:!0,component:S}),Object(k.jsx)(O.b,{path:"/create-task",exact:!0,component:C}),Object(k.jsx)(O.a,{to:"/login"})]})})})};i.a.render(Object(k.jsx)(L,{}),document.getElementById("root"))},73:function(e,t,a){},74:function(e,t,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.ef5eadbe.chunk.js.map